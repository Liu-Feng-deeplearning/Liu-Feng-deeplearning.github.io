# fuse vad and fa

### webrtcvad 解析
去读了一下webrtc里面读vad算法，感觉还是很有收获。

算法层面一些精彩的处理:

- 音频无论输入采样率，都降低到8k采样率，不影响效果
- 使用了子带能量来代替了总能量
（6个不同的子带，80～250，250～500，500～1000，1000～2000，2000～3000，3000～4000）。
考虑到交流电带来50hz的干扰，下限频率设置的不能过低。
对每个子带能量进行判断，如果有一个子带能量超过阈值，则判定为speech。
- 假设了noise和speech都服从正态分布，整个信号能量分布是两个正态分布的叠加。
- 经典的EM算法，更新两个正态分布的均值和方差。
随着时间演进更新迭代参数，意味这参数可以对噪声自适应。
- 采用了假设检验的方法（likelihood ratio test with hypothesis）。

还有一些编程技巧和数值计算上的trick，这里就不列出。

gmm-vad的核心思想和主要优势是针对流式场景不同复杂环境下的自适应参数，这可能是nn-vad不太好处理的情况。

### vad-v2 

对于离线场景来说，我们不需要考虑那么多。
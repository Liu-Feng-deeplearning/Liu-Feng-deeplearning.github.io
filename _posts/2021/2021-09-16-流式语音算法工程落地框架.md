---
layout: post
title: 流式语音算法工程落地框架
categories: 深度学习
description: 
keywords: 深度学习
---

# 流式模型设计细节

## 分层结构

顶层调用底层模块，底层模块不能调用顶层模块。同层直接不能互相调用。

**nnet**

- pytorch 模型推理模块的cpp封装，尽量不涉及逻辑。 
- 使用框架无关的参数（Eigen）作为nnet与外界交互类型。
- 解耦的目的是为了后期更换不同的框架 or 推理工具（如 libtorch/ONNX/tenforflow等）
- 只读不写，使用共享指针，避免水平扩展带来的内存消耗。
    
**submodel**

- 子模块的上层封装，如声码器等。在此层级实现对应逻辑，如流式结构等。
- 对输入和输出参数灵活处理，接受变长度处理。
    
**engine**

engine是子模块结构对整合，每个engine单独应对一路请求。
    
**engine_pool**
    
管理不同engine


# header

[流式语音算法总结](https://liu-feng-deeplearning.github.io/2021/08/16/%E6%B5%81%E5%BC%8F%E8%AF%AD%E9%9F%B3%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/) 
